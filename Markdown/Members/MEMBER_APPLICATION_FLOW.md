# ğŸ¯ Member Application - Updated Flow

## ğŸ“‹ à¸ªà¸£à¸¸à¸›à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡

### **à¹€à¸”à¸´à¸¡ (Old Flow)**
- âŒ 1 Token = 1 Person
- âŒ Token à¹ƒà¸Šà¹‰à¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§
- âŒ à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸œà¸¹à¸à¸à¸±à¸šà¸šà¸£à¸´à¸©à¸±à¸—

### **à¹ƒà¸«à¸¡à¹ˆ (New Flow)** âœ…
- âœ… **1 Token = 1 Company = Multiple People**
- âœ… Token à¹ƒà¸Šà¹‰à¹„à¸”à¹‰à¸«à¸¥à¸²à¸¢à¸„à¸£à¸±à¹‰à¸‡ (max 999 à¸„à¸™)
- âœ… à¸œà¸¹à¸à¸à¸±à¸šà¸šà¸£à¸´à¸©à¸±à¸—à¹€à¸‰à¸à¸²à¸° (company_id required)
- âœ… à¸«à¸™à¹‰à¸²à¹à¸£à¸ = à¸ªà¸£à¸¸à¸›à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­
- âœ… à¹€à¸à¸´à¹ˆà¸¡à¸—à¸µà¸¥à¸°à¸„à¸™ à¸šà¸±à¸™à¸—à¸¶à¸à¸—à¸±à¸™à¸—à¸µ
- âœ… à¸šà¸±à¸™à¸—à¸¶à¸à¸£à¸²à¸¢à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸£à¸¹à¸› PNG à¸¥à¸‡à¸¡à¸·à¸­à¸–à¸·à¸­

---

## ğŸ—ï¸ à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¹ƒà¸«à¸¡à¹ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin Creates Token                    â”‚
â”‚  - à¹€à¸¥à¸·à¸­à¸ Project                        â”‚
â”‚  - à¹€à¸¥à¸·à¸­à¸ Company (dropdown + search)    â”‚
â”‚  - à¸ªà¸£à¹‰à¸²à¸‡ Token                          â”‚
â”‚  â†’ https://app.com/m?t=abc123xyz        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Opens Link                        â”‚
â”‚  - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Token                        â”‚
â”‚  - à¹‚à¸«à¸¥à¸”à¸Šà¸·à¹ˆà¸­à¸šà¸£à¸´à¸©à¸±à¸—à¸ˆà¸²à¸ Token              â”‚
â”‚  - à¹à¸ªà¸”à¸‡à¸«à¸™à¹‰à¸² "à¸ªà¸£à¸¸à¸›à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­"               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Summary Page (à¸«à¸™à¹‰à¸²à¸ªà¸£à¸¸à¸›à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­)          â”‚
â”‚                                         â”‚
â”‚  à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸à¸™à¸±à¸à¸‡à¸²à¸™ - à¸šà¸£à¸´à¸©à¸±à¸— ABC            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ (à¸§à¹ˆà¸²à¸‡à¹€à¸›à¸¥à¹ˆà¸²)                        â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  [+ à¹€à¸à¸´à¹ˆà¸¡à¸à¸™à¸±à¸à¸‡à¸²à¸™]                       â”‚
â”‚  [ğŸ’¾ à¸šà¸±à¸™à¸—à¸¶à¸à¸£à¸²à¸¢à¸‡à¸²à¸™ (PNG)]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ (à¸à¸” "à¹€à¸à¸´à¹ˆà¸¡à¸à¸™à¸±à¸à¸‡à¸²à¸™")
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Form Page (à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ 1 à¸„à¸™)            â”‚
â”‚                                         â”‚
â”‚  ğŸ“ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸™à¸±à¸à¸‡à¸²à¸™                        â”‚
â”‚  â”œâ”€ à¸Šà¸·à¹ˆà¸­-à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥                        â”‚
â”‚  â”œâ”€ à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£                            â”‚
â”‚  â”œâ”€ à¸§à¸±à¸™à¹€à¸à¸´à¸”, à¸­à¸²à¸¢à¸¸                       â”‚
â”‚  â”œâ”€ à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ                              â”‚
â”‚  â”œâ”€ à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸², à¸ªà¸±à¸à¸Šà¸²à¸•à¸´, à¸¨à¸²à¸ªà¸™à¸²            â”‚
â”‚  â”œâ”€ à¹€à¸¥à¸‚à¸šà¸±à¸•à¸£à¸›à¸£à¸°à¸Šà¸²à¸Šà¸™                      â”‚
â”‚  â”œâ”€ à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸—à¸µà¹ˆà¸ªà¸¡à¸±à¸„à¸£                     â”‚
â”‚  â”‚                                     â”‚
â”‚  ğŸ“‹ à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™                      â”‚
â”‚  â”œâ”€ à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¸‡à¸²à¸™à¸à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡               â”‚
â”‚  â”‚                                     â”‚
â”‚  ğŸ¥ à¸ªà¸¸à¸‚à¸ à¸²à¸                               â”‚
â”‚  â”œâ”€ à¸à¸¥à¸±à¸§à¸„à¸§à¸²à¸¡à¸ªà¸¹à¸‡                         â”‚
â”‚  â”œâ”€ à¹‚à¸£à¸„à¸›à¸£à¸°à¸ˆà¸³à¸•à¸±à¸§                         â”‚
â”‚  â”œâ”€ à¸•à¸²à¸šà¸­à¸”à¸ªà¸µ, à¸¥à¸¡à¸Šà¸±à¸                      â”‚
â”‚  â”‚                                     â”‚
â”‚  ğŸ“ à¹€à¸­à¸à¸ªà¸²à¸£                               â”‚
â”‚  â”œâ”€ ğŸ“¸ à¸£à¸¹à¸›à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ (jpg/png, 3MB)        â”‚
â”‚  â”œâ”€ ğŸ†” à¸šà¸±à¸•à¸£à¸›à¸£à¸°à¸Šà¸²à¸Šà¸™ (jpg/png/pdf, 5MB)  â”‚
â”‚  â”œâ”€ ğŸ¥ à¹ƒà¸šà¸£à¸±à¸šà¸£à¸­à¸‡à¹à¸à¸—à¸¢à¹Œ (jpg/png/pdf, 5MB) â”‚
â”‚  â”‚                                     â”‚
â”‚  âœï¸ à¸¥à¸²à¸¢à¹€à¸‹à¹‡à¸™à¸œà¸¹à¹‰à¸ªà¸¡à¸±à¸„à¸£                     â”‚
â”‚                                         â”‚
â”‚  [à¸šà¸±à¸™à¸—à¸¶à¸] [à¸¢à¸à¹€à¸¥à¸´à¸]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ (à¸à¸” "à¸šà¸±à¸™à¸—à¸¶à¸")
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Save to Database                       â”‚
â”‚  - INSERT member_applications           â”‚
â”‚  - Upload 3 files â†’ Supabase Storage    â”‚
â”‚  - INSERT member_application_documents  â”‚
â”‚  - Update token.current_uses += 1       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Back to Summary Page                   â”‚
â”‚                                         â”‚
â”‚  à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸à¸™à¸±à¸à¸‡à¸²à¸™ - à¸šà¸£à¸´à¸©à¸±à¸— ABC            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. à¸ªà¸¡à¸Šà¸²à¸¢ à¹ƒà¸ˆà¸”à¸µ     [à¹à¸à¹‰à¹„à¸‚] [à¸¥à¸š]   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  [+ à¹€à¸à¸´à¹ˆà¸¡à¸à¸™à¸±à¸à¸‡à¸²à¸™]                       â”‚
â”‚  [ğŸ’¾ à¸šà¸±à¸™à¸—à¸¶à¸à¸£à¸²à¸¢à¸‡à¸²à¸™ (PNG)]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ (à¸à¸” "à¹€à¸à¸´à¹ˆà¸¡à¸à¸™à¸±à¸à¸‡à¸²à¸™" à¸­à¸µà¸)
           â–¼
        [à¸—à¸³à¸‹à¹‰à¸³...]
           â”‚
           â”‚ (à¹€à¸à¸´à¹ˆà¸¡à¸ˆà¸™à¸„à¸£à¸š à¹€à¸Šà¹ˆà¸™ 10 à¸„à¸™)
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Summary Page (à¸„à¸£à¸š 10 à¸„à¸™)               â”‚
â”‚                                         â”‚
â”‚  à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸à¸™à¸±à¸à¸‡à¸²à¸™ - à¸šà¸£à¸´à¸©à¸±à¸— ABC            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. à¸ªà¸¡à¸Šà¸²à¸¢ à¹ƒà¸ˆà¸”à¸µ     [à¹à¸à¹‰à¹„à¸‚] [à¸¥à¸š]   â”‚  â”‚
â”‚  â”‚ 2. à¸ªà¸¡à¸«à¸à¸´à¸‡ à¸£à¸±à¸à¸‡à¸²à¸™   [à¹à¸à¹‰à¹„à¸‚] [à¸¥à¸š]   â”‚  â”‚
â”‚  â”‚ 3. à¸ªà¸¡à¸¨à¸±à¸à¸”à¸´à¹Œ à¸¡à¸±à¹ˆà¸™à¸„à¸‡ [à¹à¸à¹‰à¹„à¸‚] [à¸¥à¸š]   â”‚  â”‚
â”‚  â”‚ 4. à¸ªà¸¡à¸à¸‡à¸©à¹Œ à¹€à¸à¹ˆà¸‡à¸à¸²à¸ˆ  [à¹à¸à¹‰à¹„à¸‚] [à¸¥à¸š]   â”‚  â”‚
â”‚  â”‚ 5. à¸ªà¸¡à¸šà¸±à¸•à¸´ à¸£à¸§à¸¢à¹€à¸‡à¸´à¸™  [à¹à¸à¹‰à¹„à¸‚] [à¸¥à¸š]   â”‚  â”‚
â”‚  â”‚ 6. à¸ªà¸¡à¸›à¸­à¸‡ à¹à¸‚à¹‡à¸‡à¹à¸£à¸‡   [à¹à¸à¹‰à¹„à¸‚] [à¸¥à¸š]   â”‚  â”‚
â”‚  â”‚ 7. à¸ªà¸¡à¸«à¸¡à¸²à¸¢ à¸‚à¸¢à¸±à¸™     [à¹à¸à¹‰à¹„à¸‚] [à¸¥à¸š]   â”‚  â”‚
â”‚  â”‚ 8. à¸ªà¸¡à¸„à¸§à¸£ à¸”à¸µ        [à¹à¸à¹‰à¹„à¸‚] [à¸¥à¸š]   â”‚  â”‚
â”‚  â”‚ 9. à¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ à¸à¸£à¹‰à¸­à¸¡   [à¹à¸à¹‰à¹„à¸‚] [à¸¥à¸š]   â”‚  â”‚
â”‚  â”‚ 10. à¸ªà¸¡à¸ˆà¸´à¸•à¸£ à¸‹à¸·à¹ˆà¸­    [à¹à¸à¹‰à¹„à¸‚] [à¸¥à¸š]   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  [+ à¹€à¸à¸´à¹ˆà¸¡à¸à¸™à¸±à¸à¸‡à¸²à¸™]                       â”‚
â”‚  [ğŸ’¾ à¸šà¸±à¸™à¸—à¸¶à¸à¸£à¸²à¸¢à¸‡à¸²à¸™ (PNG)] â† à¸à¸”à¸™à¸µà¹‰!       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ (à¸à¸” "à¸šà¸±à¸™à¸—à¸¶à¸à¸£à¸²à¸¢à¸‡à¸²à¸™")
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Generate Report Screenshot             â”‚
â”‚  - Render HTML with all names           â”‚
â”‚  - Use html2canvas library              â”‚
â”‚  - Convert to PNG image                 â”‚
â”‚  - Download to mobile device            â”‚
â”‚  â†’ "à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸à¸™à¸±à¸à¸‡à¸²à¸™-ABC-2025-10-18.png"  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Database Changes Summary

### **1. member_application_tokens**
```sql
-- à¹€à¸à¸´à¹ˆà¸¡ company_id (required)
company_id UUID NOT NULL REFERENCES companies(id)

-- à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ token settings
is_one_time_use = false  -- à¹ƒà¸Šà¹‰à¹„à¸”à¹‰à¸«à¸¥à¸²à¸¢à¸„à¸£à¸±à¹‰à¸‡
max_uses = 999           -- à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸„à¸™
```

### **2. member_applications**
```sql
-- à¹€à¸à¸´à¹ˆà¸¡ company_id (copy à¸ˆà¸²à¸ token)
company_id UUID REFERENCES companies(id)
```

### **3. project_form_configs**
```sql
-- à¹€à¸à¸´à¹ˆà¸¡ company_id (optional)
company_id UUID REFERENCES companies(id)

-- à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸„à¹ˆà¸² default
allow_multiple_submissions = true  -- à¸­à¸™à¸¸à¸à¸²à¸•à¸«à¸¥à¸²à¸¢à¸„à¸™
```

### **4. member_application_documents**
```sql
-- à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ document_type
-- à¹€à¸”à¸´à¸¡: 'id_card', 'medical_certificate'
-- à¹ƒà¸«à¸¡à¹ˆ: 'profile_photo', 'id_card', 'medical_certificate'
```

### **5. form_fields**
```sql
-- à¹€à¸à¸´à¹ˆà¸¡à¸Ÿà¸´à¸¥à¸”à¹Œà¹ƒà¸«à¸¡à¹ˆ: document_profile_photo
-- à¸£à¸§à¸¡à¹€à¸›à¹‡à¸™ 27 fields (à¹€à¸à¸´à¹ˆà¸¡à¸ˆà¸²à¸ 26)
```

---

## ğŸ¯ UI Components à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸ªà¸£à¹‰à¸²à¸‡

### **1. Admin: Create Token Page**
```tsx
<CreateTokenPage>
  <ProjectSelect /> {/* à¹€à¸¥à¸·à¸­à¸à¹‚à¸„à¸£à¸‡à¸à¸²à¸£ */}
  <CompanySelect /> {/* Dropdown + Search + Add New (à¹€à¸«à¸¡à¸·à¸­à¸™ Audit Form) */}
  <ExpirationDate /> {/* à¸à¸³à¸«à¸™à¸”à¸§à¸±à¸™à¸«à¸¡à¸”à¸­à¸²à¸¢à¸¸ */}
  <MaxUses /> {/* à¸ˆà¸³à¸™à¸§à¸™à¸„à¸™à¸ªà¸¹à¸‡à¸ªà¸¸à¸” (default 999) */}
  <GenerateButton /> {/* à¸ªà¸£à¹‰à¸²à¸‡ Token */}
  <TokenLinkDisplay /> {/* à¹à¸ªà¸”à¸‡ Link + QR Code */}
  <SendViaEmail /> {/* à¸ªà¹ˆà¸‡ Email */}
  <SendViaLine /> {/* à¸ªà¹ˆà¸‡ Line */}
</CreateTokenPage>
```

### **2. Public: Summary Page (à¸«à¸™à¹‰à¸²à¸ªà¸£à¸¸à¸›à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­)**
```tsx
<SummaryPage token={token}>
  <Header>
    <CompanyName /> {/* à¸ˆà¸²à¸ token.company */}
    <TokenExpiry /> {/* à¸«à¸¡à¸”à¸­à¸²à¸¢à¸¸: 2025-11-18 */}
    <MemberCount /> {/* 10/999 à¸„à¸™ */}
  </Header>
  
  <MemberList>
    {members.map(member => (
      <MemberCard key={member.id}>
        <Avatar src={member.profile_photo} />
        <Name>{member.first_name} {member.last_name}</Name>
        <Phone>{member.phone}</Phone>
        <EditButton onClick={() => goToEditForm(member.id)} />
        <DeleteButton onClick={() => deleteMember(member.id)} />
      </MemberCard>
    ))}
  </MemberList>
  
  <Actions>
    <AddMemberButton onClick={() => goToAddForm()} />
    <SaveReportButton onClick={() => downloadPNG()} />
  </Actions>
</SummaryPage>
```

### **3. Public: Member Form Page**
```tsx
<MemberFormPage token={token} memberId={memberId}>
  <DynamicForm fields={fields}>
    {/* 27 fields rendered dynamically */}
    
    {/* Section: Personal Info */}
    <TextInput field="first_name" />
    <TextInput field="last_name" />
    <TextInput field="phone" />
    {/* ... */}
    
    {/* Section: Documents */}
    <FileUpload 
      field="document_profile_photo"
      accept="image/jpeg,image/png"
      maxSize={3 * 1024 * 1024}
    />
    <FileUpload 
      field="document_id_card"
      accept="image/jpeg,image/png,application/pdf"
      maxSize={5 * 1024 * 1024}
    />
    <FileUpload 
      field="document_medical_certificate"
      accept="image/jpeg,image/png,application/pdf"
      maxSize={5 * 1024 * 1024}
    />
    
    {/* Section: Signature */}
    <SignaturePad field="applicant_signature" />
  </DynamicForm>
  
  <Actions>
    <SaveButton onClick={handleSave} />
    <CancelButton onClick={goBack} />
  </Actions>
</MemberFormPage>
```

### **4. Admin: Members List (Menu à¹ƒà¸«à¸¡à¹ˆ)**
```tsx
<MembersPage>
  <Filters>
    <ProjectFilter />
    <CompanyFilter />
    <StatusFilter />
    <DateRangeFilter />
  </Filters>
  
  <MembersTable>
    <Column>à¸£à¸¹à¸›</Column>
    <Column>à¸Šà¸·à¹ˆà¸­-à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥</Column>
    <Column>à¸šà¸£à¸´à¸©à¸±à¸—</Column>
    <Column>à¹‚à¸„à¸£à¸‡à¸à¸²à¸£</Column>
    <Column>à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡</Column>
    <Column>à¸§à¸±à¸™à¸—à¸µà¹ˆà¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™</Column>
    <Column>à¸ªà¸–à¸²à¸™à¸°</Column>
    <Column>à¸ˆà¸±à¸”à¸à¸²à¸£</Column>
  </MembersTable>
  
  <Actions>
    <ExportExcel />
    <ExportPDF />
    <BulkApprove />
    <BulkReject />
  </Actions>
</MembersPage>
```

---

## ğŸ”„ API Endpoints

### **1. Token Management**
```typescript
// Create Token
POST /api/member-tokens
{
  "project_id": "uuid",
  "company_id": "uuid",  // Required
  "expires_at": "2025-11-18",
  "max_uses": 999
}
â†’ Returns: { token: "abc123xyz", url: "https://app.com/m?t=abc123xyz" }

// Validate Token
GET /api/member-tokens/validate?token=abc123xyz
â†’ Returns: { valid: true, company: {...}, project: {...}, remaining_uses: 989 }

// Get Token Stats
GET /api/member-tokens/:token/stats
â†’ Returns: { total_uses: 10, members: [...] }
```

### **2. Member Management**
```typescript
// List Members by Token
GET /api/members?token=abc123xyz
â†’ Returns: [ { id, first_name, last_name, profile_photo, ... }, ... ]

// Create Member
POST /api/members
{
  "token": "abc123xyz",
  "form_data": { first_name, last_name, ... },
  "documents": [
    { type: "profile_photo", file: File },
    { type: "id_card", file: File },
    { type: "medical_certificate", file: File }
  ]
}
â†’ Returns: { id: "uuid", submission_number: "MA-2025-001" }

// Update Member
PATCH /api/members/:id
{
  "form_data": { ... },
  "documents": [ ... ]
}

// Delete Member
DELETE /api/members/:id
```

### **3. Report Generation**
```typescript
// Generate PNG Report
POST /api/members/report
{
  "token": "abc123xyz",
  "format": "png"
}
â†’ Returns: { url: "https://.../*.png" }
```

---

## ğŸ“± Mobile UX Enhancements

### **1. Summary Page - Mobile Optimized**
```css
/* Responsive grid for member cards */
.member-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

@media (min-width: 768px) {
  .member-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .member-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}
```

### **2. File Upload - Mobile Friendly**
```tsx
<FileInput
  accept="image/*"
  capture="environment" // à¹€à¸›à¸´à¸”à¸à¸¥à¹‰à¸­à¸‡à¸šà¸™à¸¡à¸·à¸­à¸–à¸·à¸­
  onChange={handleFileChange}
/>

// à¹à¸•à¹ˆà¹ƒà¸™à¸à¸£à¸“à¸µà¸™à¸µà¹‰à¹ƒà¸Šà¹‰ input file à¸˜à¸£à¸£à¸¡à¸”à¸² (à¹„à¸¡à¹ˆà¸¡à¸µà¸›à¸¸à¹ˆà¸¡à¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›)
<input 
  type="file" 
  accept="image/jpeg,image/png" 
  onChange={handleUpload}
/>
```

### **3. Screenshot Report - html2canvas**
```typescript
import html2canvas from 'html2canvas';

async function downloadReport() {
  const element = document.getElementById('summary-report');
  const canvas = await html2canvas(element, {
    backgroundColor: '#ffffff',
    scale: 2 // High quality
  });
  
  canvas.toBlob((blob) => {
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸à¸™à¸±à¸à¸‡à¸²à¸™-${companyName}-${date}.png`;
    a.click();
  }, 'image/png');
}
```

---

## âœ… Summary of Changes

| à¸ªà¹ˆà¸§à¸™à¸—à¸µà¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ | à¹€à¸”à¸´à¸¡ | à¹ƒà¸«à¸¡à¹ˆ |
|---------------|------|------|
| **Token Usage** | 1 à¸„à¸™ | à¸«à¸¥à¸²à¸¢à¸„à¸™ (999) |
| **Company** | à¹„à¸¡à¹ˆà¸¡à¸µ | Required |
| **Summary Page** | à¹„à¸¡à¹ˆà¸¡à¸µ | à¸¡à¸µ (à¸«à¸™à¹‰à¸²à¹à¸£à¸) |
| **Save Flow** | Submit à¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§ | à¸—à¸µà¸¥à¸°à¸„à¸™ (incremental) |
| **Report** | PDF template | PNG screenshot |
| **Documents** | 2 à¹„à¸Ÿà¸¥à¹Œ | 3 à¹„à¸Ÿà¸¥à¹Œ (+à¸£à¸¹à¸›à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ) |
| **Fields** | 26 | 27 |
| **Menu** | Users | Users + Members |

---

## ğŸš€ Next Steps

1. âœ… Database Schema Updated
2. âœ… Seed Data Updated (27 fields)
3. â­ï¸ à¸ªà¸£à¹‰à¸²à¸‡ Company Dropdown Component (à¸à¸£à¹‰à¸­à¸¡ search + add)
4. â­ï¸ à¸ªà¸£à¹‰à¸²à¸‡ Summary Page UI
5. â­ï¸ à¸ªà¸£à¹‰à¸²à¸‡ Dynamic Member Form
6. â­ï¸ à¸ªà¸£à¹‰à¸²à¸‡ Token Management UI
7. â­ï¸ à¸ªà¸£à¹‰à¸²à¸‡ Members Menu
8. â­ï¸ Integration html2canvas
9. â­ï¸ Testing

**à¸à¸£à¹‰à¸­à¸¡à¹€à¸£à¸´à¹ˆà¸¡à¸ªà¸£à¹‰à¸²à¸‡ UI à¹à¸¥à¹‰à¸§à¸„à¸£à¸±à¸š!** ğŸ¨
